# AI Manager 要件定義書

## 1. プロジェクト概要

### 1.1 目的

LLMの高度な推論能力を活用して、スケジュール管理や事務処理、単純な反復操作の自動化など支援するバックグラウンド常駐アプリケーションを開発する。

### 1.2 基本方針

- マイクロアーキテクチャを採用し、LLM、DB、本システム、外部サービスを完全に分離することで保守性を高める
- バックエンド常駐のため、高度な最適化、軽量化が求められる
- 開発言語はRustを採用する

## 2. 機能要件

### 2.1 優先機能（Phase 1）

#### 2.1.1 スケジュール管理

- **最優先**: Google Calendarとの連携
- カレンダーイベントの自動読み取り
- 自動スケジューリング機能
- リマインダー通知機能
- スケジュール競合の検出と調整

#### 2.1.2 メール処理

- **最優先**: メール処理の自動化
- IMAP/SMTPによるメール取得・送信
- メールの自動分類機能
- 返信文案の自動生成
- 優先度判定機能

#### 2.1.3 ユーザーインターフェース

- **基盤**: チャットUIによるテキストベース対話
- **将来拡張**: 音声対話インターフェース（音声認識・音声合成）
- OSネイティブ通知機能の活用

### 2.2 将来機能（Phase 2-3）

#### 2.2.1 PC操作自動化

- マクロのような反復操作の自動化
- アプリケーション操作の自動化
- ユーザとの対話による柔軟な設計開発（高度で複雑な機能）

#### 2.2.2 外部サービス連携拡張

- Slack連携
- Discord連携
- 追加メールサービス対応

## 3. 非機能要件

### 3.1 技術要件

- **LLMサービス**: OpenAI API、Claude API、ローカルLLM（全て対応）
- **データベース**: 対話記録とユーザプロフィール分析情報の永続化（SQLite/PostgreSQL/外部DB対応）
- **デプロイ環境**: 個人PC常駐での動作、将来的にクラウドDB連携も可能

### 3.2 パフォーマンス要件

- バックグラウンド常駐での軽量動作
- 非同期処理による応答性確保
- イベント駆動アーキテクチャによる効率的なリソース利用

### 3.3 拡張性要件

- マイクロサービスアーキテクチャによるサービス独立性
- LLMサービスの追加・変更が容易な設計
- 外部サービス連携の段階的拡張

## 4. システム制約

### 4.1 技術制約

- 開発言語: Rust
- 非同期処理: tokioランタイム必須
- イベント駆動実装: ユーザ入力処理のため必須

### 4.2 運用制約

- 個人PC環境での常駐動作
- インターネット接続必須（LLM API利用）
- 外部サービスAPI利用のための認証情報管理

## 5. データ要件

### 5.1 保存データ

- ユーザとの対話記録
- AIが分析したユーザプロフィール情報
- 外部サービス連携設定
- システム設定情報

### 5.2 データ保護

- データベース（ローカル・クラウド問わず）での安全な管理
- 個人情報の適切な暗号化
- API認証情報の安全な保存
- データベース選択に応じたセキュリティ対策
